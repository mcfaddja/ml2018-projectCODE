import pandas as pd
import numpy as np
likes = pd.read_csv('~/data/training/relation/relation.csv')
likesUID = likes.ix[:,1]
print(likesUID)
likesLID = likes.ix[:,2]
dfLikes = pd.DataFrame({'userid': likesUID, 'like_id': likesLID})
print(dfLikes.shape)
tempDF = pd.get_dummies(dfLikes['userid'], columns=dfLikes['like_id'], sparse=True)
import scipy.sparse
sparseTEMPdf = scipy.sparse.csr_matrix(tempDF.values)
sparseTMPdf = None
sparseTMPdf = pd.SparseDataFrame(tempDF)
sparseTMPdf.to_csv('~/Downloads/test.csv')
print(sparseTMPdf)
print(type(tempDF))
tempDF.to_csv('~/test.csv')
tempDF.to_csv('~/test.csv', axis=0)
print(tempDF[['userid']])
print(tempDF['userid'])
print(tempDF['userid
print(tempDF['userid', axis=1])
print(tempDF([0],[0]))
print(tempDF([0],[1]))
print(tempDF([1],[0]))
print(tempDF.ix[1,1])
tempDF.to_csv('~/test.csv')
import scipy
scipy.sparse.save_npz('~/test.npz', tempDF)
tempCOO = tempDF.to_coo()
scipy.sparse.save_npz('~/test.npz',tempCOO)
scipy.sparse.save_npz('/Users/jamster/test.npz',tempCOO)
print(type(tempDF))
print(tempDF)
tempDFo = pd.get_dummies(dfLikes['like_id'], columns=dfLikes['userid'], sparse=True)
print(tempDFo.shape)
print(tempDFo)
print(tempDF.shape)
test=pd.crosstab(likes['userid'], likes['like_id'])
print(sparseTMPdf.shape)
spLikes = likes.to_sparse()
print(type(spLikes))
test=pd.crosstab(spLikes['userid'], spLikes['like_id']).to_sparse()
print(tempDF.shape)
print(tempDFo.shape)
mergeDF = tempDFo.copy()
test=None
mergeDF.join(tempDF)
mergeDF = tempDFo.copy()
import rpy
import rpy2
import readline
hist = []
for i in range(readline.get_history_length()):
	hist.append(readline.get_history_item(i+1))
f = file.open('~/Downloads/commands2.txt', rw)
f = open('~/Downloads/commands2.txt', rw)
f = open('~/Downloads/commands2.txt', w)
f = open('~/Downloads/commands2.txt', "w")
f = open('~/Downloads/commands2.txt', "+w")
f = open('~/Downloads/commands2.txt', 'w+')
f = open("~/Downloads/commands2.txt", "w+")
f = open("~/Downloads/commands2.txt", "a+")
f = open("~/Downloads/commands2.txt", "w")
f = open("~/Downloads/commands2.txt")
with open('~/Downloads/commands2.txt', 'w') as f:
	for row in hist:
		f.write(row)
f.close()
f = open("~/Downloads/commands2.txt")
f = open('~/Downloads/commands2.txt', 'w')
f = open('/Users/jamster/Downloads/commands2.txt', 'w')
for row in hist:
	f.write(row)
f.close()
f = open('/Users/jamster/Downloads/commands2.txt', 'a')
for row in hist:
	f.write(row)
f.close()
print(hist)
for i in range(readline.get_history_length()):
	hist.append(readline.get_history_item(i+1))
print(len(hist))
print(readline.get_history_length())
lenHIST = readline.get_history_length()
print(lenHIST)
readline.get_current_history_length()
for i in range(readline.get_current_history_length()):
	hist.append(readline.get_history_item(i+1))
print(len(hist))
f = open('/Users/jamster/Downloads/commands2.txt', 'a')
for row in hist:
	f.write(row)
f.close()
f = open('/Users/jamster/Downloads/commands2.txt', 'a')
for row in hist:
 f.writelines(row)
f.close
f.close()
f = open('/Users/jamster/Downloads/commands2.txt', 'a')
for row in hist:
	f.writelines(row)
f.close()
f = open('/Users/jamster/Downloads/commands2.txt', 'w')
for row in hist:
	f.write(row + '\n')
f.close()
quit()
import pandas as pd
import numpy as np
likes = pd.read_csv('~/data/training/relation/relation.csv')
likesUID = likes.ix[:,1]
likesLID = likes.ix[:,2]
dfLikes = pd.DataFrame({'userid': likesUID, 'like_id': likesLID})
from rpy2.robjects import r, pandas2ri
quit()
import pandas as pd
import numpy as np
likes = pd.read_csv('~/data/training/relation/relation.csv')
likesUID = likes.ix[:,1]
likesLID = likes.ix[:,2]
dfLikes = pd.DataFrame({'userid': likesUID, 'like_id': likesLID})
import scipy.sparse
import scipy
tempDF = pd.get_dummies(dfLikes['userid'], columns=dfLikes['like_id'], sparse=True)
print(tempDF.shape)
mergeDF = tempDF.join(likesLID)
print(mergeDF.shape)
print(mergeDF
)
import readline
for i in range(readline.get_current_history_length()):
	print(readline.get_history_item(i+1))
newDF = pd.get_dummies(mergeDF['like_id'], columns=dfLikes['like_id'], sparse=True)
print(newDF.shape)
newDF = pd.get_dummies(mergeDF['userid'], columns=dfLikes['like_id'], sparse=True)
newDF = pd.get_dummies(mergeDF['like_id'], columns=mergeDF['like_id'], sparse=True)
print(newDF.shape)
profiles=pd.read_csv('~/data/training/profile/profile.csv')
print(profiles.columns.tolist())
profUID=profiles.ix[:,1]
print(type(profUID))
dfProfUID=pd.DataFrame({'userid': profUID})
newDF=pd.get_dummies(dfProfUID, columns=dfLikes['like_id'])
newDF=pd.get_dummies(dfLikes, columns=dfProfUID['userid'], sparse=True)
newDF=pd.get_dummies(dfLikes['like_id'], columns=dfProfUID['userid'], sparse=True)
print(newDF.shape)
print(tempDF)
print(mergeDF.shape)
aDF=mergeDF.groupby('likeid').sum()
mergeDF = tempDF.copy()
mergeDF['like_id']=likesLID
aDF=mergeDF.groupby('like_id'].sum().to_sparse(0)
aDF=mergeDF.groupby('like_id').sum().to_sparse(0)
f = open('/Users/jamster/Downloads/commands8.txt', 'w')
import readline
for i in range(readline.get_current_history_length()):
	f.write(readline.get_history_item(i+1) + '\n')
